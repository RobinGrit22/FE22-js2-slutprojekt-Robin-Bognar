{"mappings":"imBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,ICpBAE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,uSCAzD,IAAAC,EAAAJ,EAAA,S,0BAIA,MAAMK,GAAc,EAAAC,EAAAC,eAAcC,EAAAC,gBAK5BC,IAJK,EAAAN,EAAAO,aAAYN,GAGL,IAAIO,gBAAgBC,OAAOC,SAASC,QAC7BC,IAAI,W,MCT7BC,EAAiB,IAAAC,IAAoB,MAAQlB,EAAA,SAAAmB,QAA6C,qBAAAC,KAAUC,W,MCApGC,EAAiB,IAAAJ,IAAoB,MAAQlB,EAAA,SAAAmB,QAA6C,qBAAAC,KAAUC,W,MCApGE,EAAiB,IAAAL,IAAoB,MAAQlB,EAAA,SAAAmB,QAA6C,qBAAAC,KAAUC,W,MHWpG,GIXAG,EAAiB,IAAAN,IAAoB,MAAQlB,EAAA,SAAAmB,QAA6C,qBAAAC,KAAUC,WJWhGX,EAAQ,CACV,MAAMe,GAAK,EAAArB,EAAAO,eACLe,GAAU,EAAAtB,EAAAuB,KAAIF,EAAI,SAASf,MAEjC,EAAAN,EAAAwB,SAAQF,GAAUG,IAChB,MAAMC,EAAWD,EAASE,MAC1BC,QAAQC,IAAI,YAAaH,GACzB,MAAMI,EAAkBC,SAASC,eAAe,YAC1CC,EAAmBF,SAASC,eAAe,gBAIjD,GAFAF,IAAoBA,EAAgBI,UAAYR,EAASS,UAErDF,EAAkB,CACpB,GAAuB,yBAAnBP,EAASU,MAAkC,CAC7C,MAAMC,EAAA,IAAAvB,IAAAD,GACNoB,EAAiBK,IAAMD,EAAOE,IAChC,CACA,GAAuB,0BAAnBb,EAASU,MAAmC,CAC9C,MAAMC,EAAA,IAAAvB,IAAAI,GACNe,EAAiBK,IAAMD,EAAOE,IAChC,CACA,GAAuB,0BAAnBb,EAASU,MAAmC,CAC9C,MAAMC,EAAA,IAAAvB,IAAAK,GACNc,EAAiBK,IAAMD,EAAOE,IAChC,CACA,GAAuB,0BAAnBb,EAASU,MAAmC,CAC9C,MAAMC,EAAA,IAAAvB,IAAAM,GACNa,EAAiBK,IAAMD,EAAOE,IAChC,CACF,KAIF,MAAMC,GAAW,EAAAxC,EAAAuB,KAAIF,EAAI,UACzB,EAAArB,EAAAwB,SAAQgB,GAAUC,MAAOhB,IACvB,MAAMiB,EAAQjB,EAASE,MACjBgB,EAAgBZ,SAASC,eAAe,aAE9C,GAAIU,GAASC,EAAe,CAC1BA,EAAcC,UAAY,GAG1B,MAAMC,EAAYvD,OAAOwD,QAAQJ,GAC9BK,QAAO,EAAEC,EAAGC,KAAUA,EAAcC,SAAW5C,IAC/C6C,KAAI,EAAE1D,EAAIwD,MAAW,C,GAAExD,KAAQwD,MAGlCJ,EAAUO,MAAK,CAACC,EAAGC,IAAM,IAAIC,KAAKD,EAAWE,WAAWC,UAAY,IAAIF,KAAKF,EAAWG,WAAWC,YAEnG,IAAK,MAAMR,KAAQJ,EAAW,CAC5B,MAAMa,EAAW3B,SAAS4B,cAAc,OACxCD,EAASE,UAAY,YACrBF,EAASd,UAAY,oCACIK,EAAcd,mDACZc,EAAcY,8CACjBZ,EAAcO,0BAGtCb,EAAcmB,YAAYJ,EAC5B,CACF,IAGJ,MACE9B,QAAQC,IAAI","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-db715a0e32d070f2.js","src/modules/profile.ts","node_modules/@parcel/runtime-js/lib/runtime-914022b395d48e92.js","node_modules/@parcel/runtime-js/lib/runtime-3216e6d1627e9775.js","node_modules/@parcel/runtime-js/lib/runtime-0964406502b73b9f.js","node_modules/@parcel/runtime-js/lib/runtime-9ddc2a0831d959c6.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"6eg5j\\\":\\\"profile.1bd8b4b3.js\\\",\\\"5krED\\\":\\\"unicorn.9741a3c2.jpg\\\",\\\"erfBi\\\":\\\"unicorn2.07a228f2.png\\\",\\\"7ee9c\\\":\\\"unicorn3.702da4bf.png\\\",\\\"b0Obp\\\":\\\"unicorn4.2a835587.png\\\",\\\"3Iiwf\\\":\\\"profile.68ebbba3.js\\\"}\"));","import { getDatabase, ref, onValue } from 'firebase/database';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { firebaseConfig } from './firebase'; // Update the import path if needed\r\n\r\nconst firebaseApp = initializeApp(firebaseConfig);\r\nconst db = getDatabase(firebaseApp);\r\n\r\n\r\nconst urlParams = new URLSearchParams(window.location.search);\r\nconst userId = urlParams.get('userId');\r\n\r\nif (userId) {\r\n  const db = getDatabase();\r\n  const userRef = ref(db, `users/${userId}`);\r\n\r\n  onValue(userRef, (snapshot) => {\r\n    const userData = snapshot.val();\r\n    console.log('userData:', userData);\r\n    const userNameDisplay = document.getElementById('username');\r\n    const userImageDisplay = document.getElementById('profileImage') as HTMLImageElement;\r\n\r\n    userNameDisplay && (userNameDisplay.innerText = userData.username);\r\n\r\n    if (userImageDisplay) {\r\n      if (userData.image === '../image/unicorn.jpg') {\r\n        const imgUrl = new URL('../image/unicorn.jpg', import.meta.url);\r\n        userImageDisplay.src = imgUrl.href;\r\n      }\r\n      if (userData.image === '../image/unicorn2.png') {\r\n        const imgUrl = new URL('../image/unicorn2.png', import.meta.url);\r\n        userImageDisplay.src = imgUrl.href;\r\n      }\r\n      if (userData.image === '../image/unicorn3.png') {\r\n        const imgUrl = new URL('../image/unicorn3.png', import.meta.url);\r\n        userImageDisplay.src = imgUrl.href;\r\n      }\r\n      if (userData.image === '../image/unicorn4.png') {\r\n        const imgUrl = new URL('../image/unicorn4.png', import.meta.url);\r\n        userImageDisplay.src = imgUrl.href;\r\n      }\r\n    }\r\n  });\r\n\r\n  // Display the user's posts\r\n  const postsRef = ref(db, 'posts');\r\n  onValue(postsRef, async (snapshot) => {\r\n    const posts = snapshot.val();\r\n    const postContainer = document.getElementById('postsList');\r\n\r\n    if (posts && postContainer) {\r\n      postContainer.innerHTML = '';\r\n\r\n      // Filter posts for the current user\r\n      const userPosts = Object.entries(posts)\r\n        .filter(([_, post]) => (post as any).userId === userId)\r\n        .map(([id, post]) => ({ id, ...(post as any) }));\r\n\r\n      // Sort the array based on createdAt attribute in descending order\r\n      userPosts.sort((a, b) => new Date((b as any).createdAt).getTime() - new Date((a as any).createdAt).getTime());\r\n\r\n      for (const post of userPosts) {\r\n        const postItem = document.createElement('div');\r\n        postItem.className = 'post-item';\r\n        postItem.innerHTML = `\r\n          <h5 class=\"postName\">${(post as any).username}</h5>\r\n          <p class=\"postContent\">${(post as any).content}</p>\r\n          <p class=\"postTime\">${(post as any).createdAt}</p>\r\n        `;\r\n\r\n        postContainer.appendChild(postItem);\r\n      }\r\n    }\r\n  });\r\n\r\n} else {\r\n  console.log('No user ID provided');\r\n}\r\n","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"5krED\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"erfBi\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"7ee9c\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"b0Obp\")).toString();"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$gdelx","$c5272c87d5623534$var$firebaseApp","$fhN3L","initializeApp","$k8Jq9","firebaseConfig","$c5272c87d5623534$var$userId","getDatabase","URLSearchParams","window","location","search","get","$0ba618d27e73033e$exports","URL","resolve","url","toString","$bd3c449d8996b04d$exports","$697e1cdf7f5f533a$exports","$ebfe3654a4b09865$exports","db","userRef","ref","onValue","snapshot","userData","val","console","log","userNameDisplay","document","getElementById","userImageDisplay","innerText","username","image","imgUrl","src","href","postsRef","async","posts","postContainer","innerHTML","userPosts","entries","filter","_","post","userId","map","sort","a","b","Date","createdAt","getTime","postItem","createElement","className","content","appendChild"],"version":3,"file":"profile.1bd8b4b3.js.map"}